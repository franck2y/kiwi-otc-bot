<!DOCTYPE html><html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üìä OTC Bot avec RSI + EMA + ZigZag</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
  <script src="https://cdn.jsdelivr.net/npm/luxon"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon"></script>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 10px; }
    select, button { font-size: 18px; margin: 5px; padding: 5px; }
    .container { margin-top: 20px; }
    canvas { background: #222; border-radius: 10px; }
    table { width: 100%; margin-top: 20px; border-collapse: collapse; background: #1b1b1b; }
    th, td { padding: 8px; border: 1px solid #333; text-align: center; }
    th { background: #333; }
    .buy { color: #0f0; }
    .sell { color: #f00; }
    .signal-table { max-width: 100%; overflow-x: auto; }
  </style>
</head>
<body>
  <h2>üìä OTC Bot avec RSI + EMA + ZigZag</h2>
  <label for="pair">Choisissez une paire :</label>
  <select id="pair">
    <option value="EUR/USD">EUR/USD</option>
    <option value="GBP/USD">GBP/USD</option>
    <option value="USD/JPY">USD/JPY</option>
  </select>
  <button onclick="startBot()">D√©marrer le Bot</button>  <div class="container">
    <h3 id="next-signal">Prochain signal dans 60s</h3>
    <canvas id="chart" width="400" height="200"></canvas><div class="signal-table">
  <table>
    <thead>
      <tr>
        <th>Paire</th>
        <th>EMA 9</th>
        <th>EMA 21</th>
        <th>RSI</th>
        <th>ZigZag</th>
        <th>Signal</th>
      </tr>
    </thead>
    <tbody id="signal-body"></tbody>
  </table>
</div>

  </div>  <script>
    let countdown = 60;
    let countdownEl = document.getElementById('next-signal');

    setInterval(() => {
      countdown--;
      if (countdown <= 0) {
        countdown = 60;
        updateSignals();
      }
      countdownEl.textContent = `Prochain signal dans ${countdown}s`;
    }, 1000);

    const chart = new Chart(document.getElementById('chart').getContext('2d'), {
      type: 'candlestick',
      data: { datasets: [{ label: 'Cours', data: [] }] },
      options: {
        scales: {
          x: { type: 'timeseries', time: { unit: 'minute' } },
          y: { beginAtZero: false }
        }
      }
    });

    async function updateSignals() {
      const pairs = ['EUR/USD', 'GBP/USD', 'USD/JPY'];
      const signalBody = document.getElementById('signal-body');
      signalBody.innerHTML = '';

      for (const pair of pairs) {
        // Simule des donn√©es
        const ema9 = (1 + Math.random()).toFixed(5);
        const ema21 = (1 + Math.random()).toFixed(5);
        const rsi = (Math.random() * 100).toFixed(2);
        const zigzag = Math.random() > 0.5 ? '‚ÜóÔ∏è' : '‚ÜòÔ∏è';
        const signal = (rsi < 30 && ema9 > ema21) ? 'BUY' : (rsi > 70 && ema9 < ema21) ? 'SELL' : 'WAIT';

        const row = `
          <tr>
            <td>${pair}</td>
            <td>${ema9}</td>
            <td>${ema21}</td>
            <td>${rsi}</td>
            <td>${zigzag}</td>
            <td class="${signal === 'BUY' ? 'buy' : signal === 'SELL' ? 'sell' : ''}">${signal}</td>
          </tr>`;
        signalBody.innerHTML += row;
      }
    }

    function startBot() {
      updateSignals();
    }
  </script></body>
</html>
